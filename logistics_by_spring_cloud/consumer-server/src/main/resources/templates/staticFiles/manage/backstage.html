<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <META content="IE=11.0000"
          http-equiv="X-UA-Compatible">

    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="UTF-8">
    <title>后台管理</title>

    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
    <script src="/js/jquery-3.2.1.js" type="text/javascript"></script>
    <script src="/js/echarts.min.js"></script>
    <script src="/layui/layui.js" charset="utf-8"></script>
    <script>
        var id;
        function xc(name) {
            var element = layui.element;
            if(name==='用户信息编辑'){
                id='01';
                element.tabChange('demo', id );
            }
            if(name==='订单信息'){
                id='02';
                element.tabChange('demo', id );
            }
            if(name==='收寄件人'){
                id='03';
                element.tabChange('demo', id );
            }
            if(name==='未处理'){
                id='04';
                element.tabChange('demo', id );
            }
            if(name==='处理中'){
                id='05';
                element.tabChange('demo', id );
            }
            if(name==='已处理'){
                id='06';
                element.tabChange('demo', id );
            }
            if(name==='用户查询'){
                id='07';
                element.tabChange('demo', id );
            }
            if(name==='订单编号'){
                id='08';
                element.tabChange('demo', id );
            }
            if(name==='数据分析'){
                id='09';
                element.tabChange('demo', id );
            }
        }

        function bb(value,data,file) {
            //value 修改后的值;data 键值 ;file 被修改的值
            //alert(value+",修改属性:"+file+",数据"+data);
        }

        function sc(icc) {
            if (names.has(icc)){
                id_2=names.get(icc);
                names.delete(icc);
                var element = layui.element;
                element.tabDelete('demo', id_2);
            }
        }


        layui.use(['element', 'table' ],function(){
            var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

            //监听导航点击
            element.on('nav(demo)', function(elem){
                //console.log(elem)
                layer.msg(elem.text());
            });

            var $ = layui.jquery;

            //触发事件
            var active = {
               tabChange: function(){
                    //切换到指定Tab项
                    element.tabChange('demo', id_2 );
                    alert('jinru...')
                }
            };

            $('.site-demo-active').on('click', function(){
                var othis = $(this), type = othis.data('type');
                active[type] ? active[type].call(this, othis) : '';
            });




            var table = layui.table,
                form = layui.form,
                layer = layui.layer;

            table.on('edit(test3)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field;  //得到字段

                layer.msg('[ID: '+ data.id +'] ' + field + ' 字段更改为：'+ value);
                bb(value,data,field);

            });
            //监听拉黑操作
            form.on('switch(lockDemo)', function(obj){
                layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);

            });
        });
    </script>

</head>
<body class="layui-layout-body">

<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo">快递 后台布局</div>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                    贤心
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="http://localhost:9292/go/login">退出</a></dd>
                </dl>
            </li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="test">
                <li class="layui-nav-item layui-nav-itemed">
                    <a class="" href="javascript:;">表操作</a>
                    <dl class="layui-nav-child">
                        <!--<dd><a href="javascript:;" class="site-demo-active" onclick="xc('用户信息编辑')" data-type='tabChange'>用户信息编辑</a></dd>-->
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('用户查询')" data-type='tabChange'>用户查询</a></dd>
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('订单信息')" data-type='tabChange'>订单类型查询</a></dd>
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('订单编号')" data-type='tabChange'>订单编号查询</a></dd>
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('收寄件人')" data-type='tabChange'>收/寄件人</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">投诉处理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('未处理')" data-type='tabChange'>未处理</a></dd>
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('处理中')" data-type='tabChange'>处理中</a></dd>
                        <dd><a href="javascript:;" class="site-demo-active" onclick="xc('已处理')" data-type='tabChange'>已处理</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;" onclick="xc('数据分析')">数据分析</a>
                </li>
                <li class="layui-nav-item"><a href="javascript:;">云</a></li>
            </ul>
        </div>
    </div>

    <div class="layui-body">
        <!-- 内容主体区域... -->
        <div style="padding: 15px;">
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
                <legend>操作</legend>
            </fieldset>

            <div class="layui-tab layui-tab-brief" lay-filter="demo" lay-filter="docDemoTabBrief">
                <ul class="layui-tab-title">
                    <li lay-id='02'>订单信息</li>
                    <li lay-id='03'>收/寄人</li>
                    <li lay-id='04'>未处理--投诉</li>
                    <li lay-id='05'>处理中--投诉</li>
                    <li lay-id='06'>已处理--投诉</li>
                    <li lay-id='07'>用户查询</li>
                    <li lay-id='08'>订单编号查询</li>
                    <li lay-id='09'class="layui-this">数据分析</li>
                </ul>
                <div class="layui-tab-content" style="height: 100px;">

                    <!-- 订单信息√ -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">(如果出现没有数据出现或者提示错误等情况,均为您查询的分类中不存在数据,敬请注意)</blockquote>
                        <div class="demoTable3">
                            <form class="layui-form" onclick="return false">
                            <div class="layui-form-item">
                                <label class="layui-form-label" style="padding: 0px 15px"><button class="layui-btn" data-type="reload3">筛选</button></label>
                                <div class="layui-input-block">
                                    <select name="interest" lay-filter="aihao" id="demoReload3">
                                        <option value=""  selected=""></option>
                                        <option value="1">文件</option>
                                        <option value="2">书籍</option>
                                        <option value="3">食品</option>
                                        <option value="4">化妆品</option>
                                        <option value="5">服饰</option>
                                        <option value="6">日用品</option>
                                        <option value="7">医用类</option>
                                        <option value="8">易碎</option>
                                        <option value="9">其他</option>
                                    </select>
                                </div>
                            </div>
                            </form>
                        </div>

                        <table class="layui-hide" id="LAY_table_user" lay-filter="dd"></table>

                        <script type="text/html" id="select">
                            <a class="layui-btn layui-btn-mini layui-btn-normal layui-btn-xs" lay-event="edit">编辑</a>
                        </script>

                        <script>

                            layui.use('table', function(){
                                var table = layui.table;
                                var form = layui.form;
                                //方法级渲染
                                table.render({
                                    elem: '#LAY_table_user'
                                    ,url: 'http://localhost:9292/show'
                                    ,cols: [[
                                        {field:'loId', width:160, title: '订单ID', sort: true, align: 'center'}
                                        ,{field:'euReceiptName', width:120, title: '寄件人', align: 'center'}
                                        ,{field:'euReceiptPhone', width:120, title: '寄件人手机', align: 'center'}
                                        ,{field:'euSenderName', width:120, title: '收件人', align: 'center'}
                                        ,{field:'euSenderPhone', width:120, title: '收件人手机', align: 'center'}
                                        ,{field:'itName', width:140, title: '物品类型', align: 'center'}
                                        ,{field:'egSpecialContext', width:140, title: '物品名称', align: 'center'}
                                        ,{field:'tmType', width:120, title: '运输方式', align: 'center'}
                                        ,{field:'lsContext', width:120, title: '运输状态', align: 'center'}
                                        ,{field:'xxx', width:170, templet: '#select',unresize: true, title: '操作', align: 'center', fixed: 'right'}
                                        ,{field:'euId', width:100, title: '用户表id', align: 'center',style:'display:none'}
                                        ,{field:'egId', width:100, title: '物品表id', align: 'center',style:'display:none'}
                                        ,{field:'itId', width:100, title: '物品类型表id', align: 'center',style:'display:none'}
                                        ,{field:'lsId', width:100, title: '运输状态id', align: 'center',style:'display:none'}
                                        ,{field:'tsid', width:100, title: '运输id', align: 'center',style:'display:none'}
                                    ]]
                                    ,id: 'LAY_table_userReload'
                                    ,page: true
                                    ,done : function(res, curr, count) {
                                        //layer.msg("进入..."+count);
                                        if (count === 0)
                                        {
                                            $(".layui-none").hide();//隐藏无数据
                                            $(".layui-table-page").hide();//隐藏分页
                                        }else{
                                            $(".layui-table-page").open();//显示分页
                                        }
                                    }
                                });

                                var $ = layui.$, active = {
                                    reload3: function(){
                                        var demoReload = $('#demoReload3');
                                        //alert(demoReload.val());//获取当前搜素值
                                        //执行重载
                                        table.reload('LAY_table_userReload', {
                                            page: {
                                                curr: 1 //重新从第 1 页开始
                                            }
                                            ,where: {
                                                    id: demoReload.val()
                                            }
                                        }, 'data');
                                    }
                                };
                                table.on('tool(dd)', function (obj) {
                                    var data = obj.data;
                                    te(data);
                                    if (obj.event === 'detail') {
                                        layer.msg('ID：' + data.id + ' 的查看操作');
                                    }
                                    if (obj.event === 'edit') {
                                        //formData = data;
                                        if (obj.event === 'del') {
                                            layer.confirm('真的删除行么', function (index) {
                                                obj.del();
                                                layer.close(index);
                                            });
                                        } else if (obj.event === 'edit') {
                                            c=layer.open({
                                                //layer提供了5种层类型。可传入的值有：0（信息框，默认）1（页面层）2（iframe层）3（加载层）4（tips层）
                                                type: 1,
                                                title: "修改订单信息",
                                                area: ['420px', '250px'],
                                                shadeClose:true,//点击阴影关闭
                                                content: $("#dtUpdateTest")//引用的弹出层的页面层的方式加载修改界面表单
                                            });
                                            //动态向表传递赋值可以参看文章进行修改界面的更新前数据的显示，当然也是异步请求的要数据的修改数据的获取
                                            //setFormValue(obj,data);
                                        }
                                    }
                                });
                                //显示被编辑信息
                                var comtext=0;
                                function te(data) {
                                    var loid="<span class='lois2'>订单ID:&nbsp;&nbsp;&nbsp;&nbsp;"+data.loId+"</span>";
                                    comtext=data.tsid;
                                    var lsid="";
                                    $.ajax({url:"http://localhost:9292/l_statue?id="+data.lsId,success:function (result) {
                                        //alert(result);
                                        $(result).each(function (index,element) {
                                            lsid+="<option class='l_statue' value='"+element.lsId+"'>"+element.lsContext+"</option>";
                                        })
                                    },type:'post',async:false});
                                    //alert(id+namej+names);
                                    $(".lois2").remove();
                                    $("#dtid").append(loid);
                                    //alert(comtext);
                                    //alert(lsid);
                                    $(".l_statue").remove();
                                    $("#lsid").append(lsid);
                                    layui.form.render("select");//重新编译select
                                }
                                //编辑订单信息
                                form.on('submit(lo_demo)',function (data) {
                                    var ts_id=comtext;
                                    var ls_id=data.field.interest;
                                    //alert(ts_id+ls_id);
                                    //layer.msg(ts_id+":"+ls_id);
                                    layer.close(layer.index);//关闭最新弹出的框
                                    //进行后台的数据修改
                                    $.ajax({url:"http://localhost:9292/ls_update?ts_id="+ts_id+"&ls_id="+ls_id,success:function (result) {
                                            if(result===0){
                                                layer.msg("保存失败,请重试!",{icon:5});//哭脸提示
                                            }else{
                                                layer.msg("保存成功!",{icon:6});//笑脸提示
                                                //location.reload(true);刷新页面
                                                //刷新表单数据
                                                table.reload('LAY_table_userReload',{
                                                    page:{curr:1}
                                                })
                                            }
                                        },type:'post',async:false});
                                    return false;
                                });

                                $('.demoTable3 .layui-btn').on('click', function(){
                                    var type = $(this).data('type');
                                    active[type] ? active[type].call(this) : '';
                                });

                            });
                        </script>
                    </div>
                    <!-- 收寄人√ -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">搜索框输入数字将为您查找相应的订单id,输入文字查询的是收寄件人的姓名(如果出现没有数据出现或者提示错误等情况,均为您查询的分类中不存在数据,敬请注意)</blockquote>
                        <div class="demoTable">
                            搜索：
                            <div class="layui-inline">
                                <input class="layui-input" name="id" id="demoReload" autocomplete="off">
                            </div>
                            <button class="layui-btn" data-type="reload">搜索</button>
                        </div>
                        <table class="layui-hide" lay-filter="user" id="test4"></table>
                        <script>
                            layui.use('table', function(){
                                var table = layui.table
                                    ,form = layui.form;

                                table.render({
                                    elem: '#test4'
                                    ,url:'http://localhost:9292/e_user'
                                    ,cellMinWidth: 80
                                    ,cols: [[
                                        {field:'loId', width:160, title: '订单ID', sort: true, fixed: true, align: 'center'}
                                        ,{field:'euReceiptName', width:120, title: '寄件人姓名', align: 'center'}
                                        ,{field:'euSenderName', width:120, title: '收件人姓名', align: 'center'}
                                        ,{field:'euReceiptPhone', width:150, title: '寄件人手机', align: 'center'}
                                        ,{field:'euSenderPhone', width:150, title: '收件人手机', align: 'center'}
                                        ,{field:'euReceiptsite', width:500, title: '寄件人地址', align: 'center'}
                                        ,{field:'euSendersite', width:500, title: '收件人地址', align: 'center'}
                                        ,{field:'tsid', width:120, title: '时间', sort: true, align: 'center'}
                                    ]]
                                    ,id: 'test4Reload'
                                    ,page: true
                                    ,done : function(res, curr, count) {
                                        //layer.msg("进入..."+count);
                                        if (count === 0)
                                        {
                                            $(".layui-none").hide();//隐藏无数据
                                            $(".layui-table-page").hide();//隐藏分页
                                        }else{
                                            $(".layui-table-page").open();//显示分页
                                        }
                                    }
                                });


                            var $ = layui.$, active = {
                                reload: function(){
                                    //获取搜索值
                                    var demoReload = $('#demoReload');
                                    //执行重载
                                    table.reload('test4Reload', {
                                        page: {
                                            curr: 1 //重新从第 1 页开始
                                        }
                                        ,where: {
                                            id: demoReload.val()
                                        }
                                    }, 'data');
                                }
                            };
                            //搜索按钮点击
                            $('.demoTable .layui-btn').on('click', function(){
                                var type = $(this).data('type');
                                active[type] ? active[type].call(this) : '';
                            });
                            });
                        </script>
                    </div>
                    <!-- 未处理× -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">这是一个解释</blockquote>
                        <script type="text/html" id="switchTp2">
                            <input type="checkbox" name="lock" value="{{d.id}}" lay-skin="switch" lay-text="处理中|未处理" lay-filter="lockDemo3">
                        </script>

                        <table class="layui-hide" id="test5"></table>
                        <script>
                            layui.use('table', function(){
                                var table = layui.table,
                                    form = layui.form;

                                table.render({
                                    elem: '#test5'
                                    ,url:'/demo.json'
                                    ,cols: [[
                                        {field:'loId', width:160, title: '订单ID', sort: true, align: 'center'}
                                        ,{field:'luUserName', width:120, title: '用户名', align: 'center'}
                                        ,{field:'luPhone', width:120, title: '手机号', align: 'center'}
                                        ,{field:'luSex', width:120, title: '性别', align: 'center'}
                                        ,{field:'luBirthday', width:180, title: '生日', sort: true, align: 'center'}
                                        ,{field:'luGmtModified', width:180, title: '修改时间', align: 'center'}
                                        ,{field:'lock',title: '状态',templet: '#switchTp2',unresize: true, width:145, align: 'center'}
                                    ]]
                                    ,page: true
                                });
                                //监听处理操作
                                form.on('switch(lockDemo3)', function(obj){
                                    layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);
                                });
                            });
                        </script>
                    </div>
                    <!-- 处理中× -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">这是一个解释</blockquote>
                        <script type="text/html" id="switchTp3">
                            <input type="checkbox" name="lock" value="{{d.id}}" lay-skin="switch" lay-text="已处理|处理中" lay-filter="lockDemo4">
                        </script>

                        <table class="layui-hide" id="test6"></table>
                        <script>
                            layui.use('table', function(){
                                var table = layui.table,
                                    form = layui.form;

                                table.render({
                                    elem: '#test6'
                                    ,url:'/demo.json'
                                    ,cols: [[
                                        {field:'id', width:100, title: '订单ID', sort: true, align: 'center'}
                                        ,{field:'username', width:120, title: '寄件人', align: 'center'}
                                        ,{field:'sex', width:120, title: '收件人', align: 'center'}
                                        ,{field:'city', width:140, title: '投诉类型', align: 'center'}
                                        ,{field:'experience', width:180, title: '时间', sort: true, align: 'center'}
                                        ,{field:'email', width:470, title: '描述', align: 'center'}
                                        ,{field:'lock',title: '状态',templet: '#switchTp3',unresize: true, width:145, align: 'center'}
                                    ]]
                                    ,page: true
                                });
                                //监听处理操作
                                form.on('switch(lockDemo4)', function(obj){
                                    layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);
                                });
                            });
                            </script>
                    </div>
                    <!-- 已处理× -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">这是一个解释</blockquote>
                        <table class="layui-hide" id="test7"></table>
                        <script>
                            layui.use('table', function(){
                                var table = layui.table,
                                    form = layui.form;

                                table.render({
                                    elem: '#test7'
                                    ,url:'/demo.json'
                                    ,cols: [[
                                        {field:'id', width:100, title: '订单ID', sort: true, align: 'center'}
                                        ,{field:'username', width:120, title: '寄件人', align: 'center'}
                                        ,{field:'sex', width:120, title: '收件人', align: 'center'}
                                        ,{field:'city', width:140, title: '投诉类型', align: 'center'}
                                        ,{field:'experience', width:180, title: '时间', sort: true, align: 'center'}
                                        ,{field:'email', width:650, title: '描述', align: 'center'}
                                    ]]
                                    ,page: true
                                });
                            });
                        </script>
                    </div>
                    <!-- 用户查询× -->
                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">搜索框为用户名搜索(如果出现没有数据出现或者提示错误等情况,均为您查询的分类中不存在数据,敬请注意)</blockquote>
                        <!--//搜索框-->
                        <div class="demoTable4">
                            搜索：
                            <div class="layui-inline">
                                <input class="layui-input" name="id" id="demoReload5" autocomplete="off">
                            </div>
                            <button class="layui-btn" data-type="reload4">搜索</button>
                        </div>

                        <table class="layui-hide" id="test10" lay-filter="test"></table>
                        <!-- 表格操作按钮集
                        <script type="text/html" id="barOption2">
                            <a class="layui-btn layui-btn-mini layui-btn-xs" lay-event="detail">查看</a>
                            <a class="layui-btn layui-btn-mini layui-btn-normal layui-btn-xs" lay-event="edit">编辑</a>
                        </script>-->
                        <script type="text/html" id="switchTp6">
                            <input type="checkbox" name="lock" value="{{d.id}}" lay-skin="switch" lay-text="已拉黑 | 未拉黑" lay-filter="lockDemo6">
                        </script>

                        <script>
                            layui.use(['table', 'form', 'layer'], function () {

// 操作对象
                                var form = layui.form
                                    , table = layui.table
                                    , layer = layui.layer
                                    , $ = layui.jquery;
                                // 表格渲染
                                table.render({
                                    elem: '#test10'                  //指定原始表格元素选择器（推荐id选择器）
                                    , cols: [[                  //标题栏
                                        {field:'id', width:160, title: '序号', sort: true, align: 'center'}
                                        ,{field:'luUserName', width:165, title: '用户名', align: 'center'}
                                        ,{field:'luPhone', width:180, title: '手机号', align: 'center'}
                                        ,{field:'luSex', width:123, title: '性别', align: 'center'}
                                        ,{field:'luBirthday', width:220, title: '生日', sort: true, align: 'center'}
                                        ,{field:'luGmtModified', width:270, title: '修改时间', align: 'center'}
                                        , {fixed: 'right', width: 158, title: '状态', align: 'center', toolbar: '#switchTp6'}
                                    ]]
                                    , id: 'dataCheck'
                                    , url: 'http://localhost:9292/user'
                                    , page: true
                                    ,done : function(res, curr, count) {
                                        //layer.msg("进入..."+count);
                                        if (count === 0)
                                        {
                                            $(".layui-none").hide();//隐藏无数据
                                            $(".layui-table-page").hide();//隐藏分页
                                        }else{
                                            $(".layui-table-page").open();//显示分页
                                        }
                                    }
                                });
                                //监听表格复选框选择
                                table.on('checkbox(demo)', function (obj) {
                                    console.log(obj)
                                });

                                //搜索功能的实现
                                $('.demoTable4 .layui-btn').on('click', function () {
                                    var type = $(this).data('type');
                                    active[type] ? active[type].call(this) : '';
                                });

                                var $ = layui.$, active = {
                                    reload4: function () {
                                        var demoReload = $('#demoReload5');

                                        //执行重载
                                        table.reload('dataCheck', {
                                            where: {
                                                id: demoReload.val()

                                            }
                                        });
                                    }
                                };
                                $('.demoTable4 .layui-btn').on('click', function () {
                                    var type = $(this).data('type');
                                    active[type] ? active[type].call(this) : '';
                                });

                                // 刷新表格
                                $('#btn-refresh').on('click', function () {
                                    tableIns.reload()
                                });

                                //监听处理操作
                                form.on('switch(lockDemo6)', function(obj){
                                    alert(this.value + '：'+ obj.elem.checked, obj.othis);
                                    //进行后台的数据修改
                                    $.ajax({url:"http://localhost:9292/user_update?id="+this.value+"&block="+obj.elem.checked,success:function (result) {
                                            if(result===0){
                                                layer.msg("保存失败,请重试!",{icon:5});//哭脸提示
                                            }else{
                                                layer.msg("保存成功!",{icon:6});//笑脸提示
                                                //location.reload(true);刷新页面
                                                //刷新表单数据
                                                table.reload('dataCheck',{
                                                    page:{curr:1}
                                                })
                                            }
                                        },type:'post',async:false});

                                    //layer.msg("操作成功",{icon:6});//笑脸
                                    //layer.msg("操作失败",{icon:5});//哭脸
                                });
                            });

                        </script>


                </div>

                    <div class="layui-tab-item">
                        <blockquote class="layui-elem-quote">这是一个解释</blockquote>
                        <div class="demoTable">
                            搜索ID：
                            <div class="layui-inline">
                                <input class="layui-input" name="id" id="demoReload7" autocomplete="off">
                            </div>
                            <button class="layui-btn" data-type="reload">搜索</button>
                        </div>

                        <table class="layui-hide" id="LAY_table_user7" lay-filter="user"></table>
                        <script type="text/html" id="select7">
                            <a class="layui-btn layui-btn-mini layui-btn-normal layui-btn-xs" lay-event="edit">编辑</a>
                        </script>

                        <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
                        <script>
                            layui.use('table', function(){
                                var table = layui.table;

                                //方法级渲染
                                table.render({
                                    elem: '#LAY_table_user7'
                                    ,url: '/demo.json'
                                    ,cols: [[
                                        {field:'id', width:100, title: '订单ID', sort: true, align: 'center'}
                                        ,{field:'username', width:120, title: '寄件人', align: 'center'}
                                        ,{field:'sex', width:120, title: '收件人', align: 'center'}
                                        ,{field:'city', width:140, title: '投诉类型', align: 'center'}
                                        ,{field:'experience', width:180, title: '时间', sort: true, align: 'center'}
                                        ,{field:'email', width:470, title: '描述', align: 'center'}
                                        ,{field:'xxx', width:170, templet: '#select7',unresize: true, title: '操作', align: 'center'}
                                    ]]
                                    ,id: 'testReload'
                                    ,page: true
                                });

                                var $ = layui.$, active = {
                                    reload: function(){
                                        var demoReload = $('#demoReload7');

                                        //执行重载
                                        table.reload('testReload', {
                                            page: {
                                                curr: 1 //重新从第 1 页开始
                                            }
                                            ,where: {
                                                key: {
                                                    id: demoReload.val()
                                                }
                                            }
                                        }, 'data');
                                    }
                                };

                                table.on('tool(user)', function (obj) {
                                    var data = obj.data;
                                    te(data);
                                    if (obj.event === 'detail') {
                                        layer.msg('ID：' + data.id + ' 的查看操作');
                                    }
                                    if (obj.event === 'edit') {
                                        //formData = data;
                                        if (obj.event === 'del') {
                                            layer.confirm('真的删除行么', function (index) {
                                                obj.del();
                                                layer.close(index);
                                            });
                                        } else if (obj.event === 'edit') {
                                            layer.open({
                                                //layer提供了5种层类型。可传入的值有：0（信息框，默认）1（页面层）2（iframe层）3（加载层）4（tips层）
                                                type: 1,
                                                title: "修改订单信息",
                                                area: ['420px', '250px'],
                                                content: $("#dtUpdateTest")//引用的弹出层的页面层的方式加载修改界面表单
                                            });
                                            //动态向表传递赋值可以参看文章进行修改界面的更新前数据的显示，当然也是异步请求的要数据的修改数据的获取
                                            setFormValue(obj,data);
                                        }
                                    }
                                });

                                function te(data) {
                                    var id=data.id;
                                    var namej=data.username;
                                    var names=data.sex;
                                    //alert(id+namej+names);
                                    document.getElementById("dtid").value = id;
                                    document.getElementById("jjr").value = namej;
                                    document.getElementById("sjr").value = names;
                                }

                                $('.demoTable .layui-btn').on('click', function(){
                                    var type = $(this).data('type');
                                    active[type] ? active[type].call(this) : '';
                                });
                            });
                        </script>
                    </div>
                    <div class="layui-tab-item layui-show">
                        <blockquote class="layui-elem-quote">这是一个解释</blockquote>
                        <div id="ca" style="width: 850px;height:800px;"></div>
                        <script>
                            // 基于准备好的dom，初始化echarts实例
                            var myChart = echarts.init(document.getElementById('ca'));
                            //app.title = '嵌套环形图';
                            setTimeout(function () {
                                option = {
                                    tooltip: {
                                        trigger: 'item',
                                        formatter: "{a} <br/>{b}: {c} ({d}%)"
                                    },
                                    legend: {
                                        orient: 'vertical',
                                        x: 'left',
                                        data: ['直达', '营销广告', '搜索引擎', '邮件营销', '联盟广告', '视频广告', '百度', '谷歌', '必应', '其他']
                                    },
                                    series: [
                                        {
                                            name: '订单来源',
                                            type: 'pie',
                                            selectedMode: 'single',
                                            radius: [0, '30%'],

                                            label: {
                                                normal: {
                                                    position: 'inner'
                                                }
                                            },
                                            labelLine: {
                                                normal: {
                                                    show: false
                                                }
                                            },
                                            data: [
                                                {value: 335, name: '直达', selected: true},
                                                {value: 679, name: '营销广告'},
                                                {value: 1548, name: '搜索引擎'}
                                            ]
                                        },
                                        {
                                            name: '订单来源',
                                            type: 'pie',
                                            radius: ['40%', '55%'],
                                            label: {
                                                normal: {
                                                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                                                    backgroundColor: '#eee',
                                                    borderColor: '#aaa',
                                                    borderWidth: 1,
                                                    borderRadius: 4,
                                                    // shadowBlur:3,
                                                    // shadowOffsetX: 2,
                                                    // shadowOffsetY: 2,
                                                    // shadowColor: '#999',
                                                    // padding: [0, 7],
                                                    rich: {
                                                        a: {
                                                            color: '#999',
                                                            lineHeight: 22,
                                                            align: 'center'
                                                        },
                                                        // abg: {
                                                        //     backgroundColor: '#333',
                                                        //     width: '100%',
                                                        //     align: 'right',
                                                        //     height: 22,
                                                        //     borderRadius: [4, 4, 0, 0]
                                                        // },
                                                        hr: {
                                                            borderColor: '#aaa',
                                                            width: '100%',
                                                            borderWidth: 0.5,
                                                            height: 0
                                                        },
                                                        b: {
                                                            fontSize: 16,
                                                            lineHeight: 33
                                                        },
                                                        per: {
                                                            color: '#eee',
                                                            backgroundColor: '#334455',
                                                            padding: [2, 4],
                                                            borderRadius: 2
                                                        }
                                                    }
                                                }
                                            },
                                            data: [
                                                {value: 335, name: '直达'},
                                                {value: 310, name: '邮件营销'},
                                                {value: 234, name: '联盟广告'},
                                                {value: 135, name: '视频广告'},
                                                {value: 1048, name: '百度'},
                                                {value: 251, name: '谷歌'},
                                                {value: 147, name: '必应'},
                                                {value: 102, name: '其他'}
                                            ]
                                        }
                                    ]
                                };
                                myChart.setOption(option);
                            });
                        </script>

                        <div id="zxt" style="width: 1000px;height:500px;display: inline-block"></div>
                            <div style="width:100px; display: inline-block">
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-radius" style="margin-bottom: 15px;margin-left: 30px" onclick="click_line(5)">最近7天</button>
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-radius" style="margin-bottom: 15px;margin-left: 30px" onclick="click_line(2)">最近四周</button>
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-radius" style="margin-bottom: 15px;margin-left: 30px" onclick="click_line(3)">最近十二月</button>
                                <button type="button" class="layui-btn layui-btn-primary layui-btn-radius" style="margin-bottom: 15px;margin-left: 30px" onclick="click_line(4)">最近五年</button>
                            </div>
                        <script>
                            var s=3;
                            var myChart2 = echarts.init(document.getElementById('zxt'));
                            option3 = {
                                title: {
                                    text: '最近十二月订单数量'
                                },
                                tooltip: {
                                    trigger: 'axis'
                                },
                                legend: {
                                    data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                toolbox: {
                                    feature: {
                                        saveAsImage: {}
                                    }
                                },
                                xAxis: {
                                    type: 'category',
                                    boundaryGap: false,
                                    data: ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月']
                                },
                                yAxis: {
                                    type: 'value'
                                },
                                series: [
                                    {
                                        name:'邮件营销',
                                        type:'line',
                                        stack: '总量',
                                        data:[120, 132, 101, 134, 90, 230, 210,300,290,210,280,320]
                                    },
                                    {
                                        name:'联盟广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[220, 182, 191, 234, 290, 330, 310,290,280,310,330,340]
                                    },
                                    {
                                        name:'视频广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[150, 232, 201, 154, 190, 330, 410,390,420,380,400,390]
                                    },
                                    {
                                        name:'直接访问',
                                        type:'line',
                                        stack: '总量',
                                        data:[320, 332, 301, 334, 390, 330, 320,380,370,400,420,390]
                                    },
                                    {
                                        name:'搜索引擎',
                                        type:'line',
                                        stack: '总量',
                                        data:[820, 932, 901, 934, 1290, 1330, 1320,1300,1250,1290,1350,1390]
                                    }
                                ]
                            };
                            option2 = {
                                title: {
                                    text: '最近五周订单数量'
                                },
                                tooltip: {
                                    trigger: 'axis'
                                },
                                legend: {
                                    data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                toolbox: {
                                    feature: {
                                        saveAsImage: {}
                                    }
                                },
                                xAxis: {
                                    type: 'category',
                                    boundaryGap: false,
                                    data: ['一周目','二周目','三周目','四周目']
                                },
                                yAxis: {
                                    type: 'value'
                                },
                                series: [
                                    {
                                        name:'邮件营销',
                                        type:'line',
                                        stack: '总量',
                                        data:[120, 132, 101, 134]
                                    },
                                    {
                                        name:'联盟广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[220, 182, 191, 234]
                                    },
                                    {
                                        name:'视频广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[150, 232, 201, 154]
                                    },
                                    {
                                        name:'直接访问',
                                        type:'line',
                                        stack: '总量',
                                        data:[320, 332, 301, 334]
                                    },
                                    {
                                        name:'搜索引擎',
                                        type:'line',
                                        stack: '总量',
                                        data:[820, 932, 901, 930]
                                    }
                                ],
                            };
                            option4 = {
                                title: {
                                    text: '最近五年订单数量'
                                },
                                tooltip: {
                                    trigger: 'axis'
                                },
                                legend: {
                                    data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                toolbox: {
                                    feature: {
                                        saveAsImage: {}
                                    }
                                },
                                xAxis: {
                                    type: 'category',
                                    boundaryGap: false,
                                    data: ['2015','2016','2017','2018','2019']
                                },
                                yAxis: {
                                    type: 'value'
                                },
                                series: [
                                    {
                                        name:'邮件营销',
                                        type:'line',
                                        stack: '总量',
                                        data:[120, 132, 101, 134, 90, 230, 210,300,290,210,280,320]
                                    },
                                    {
                                        name:'联盟广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[220, 182, 191, 234, 290, 330, 310,290,280,310,330,340]
                                    },
                                    {
                                        name:'视频广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[150, 232, 201, 154, 190, 330, 410,390,420,380,400,390]
                                    },
                                    {
                                        name:'直接访问',
                                        type:'line',
                                        stack: '总量',
                                        data:[320, 332, 301, 334, 390, 330, 320,380,370,400,420,390]
                                    },
                                    {
                                        name:'搜索引擎',
                                        type:'line',
                                        stack: '总量',
                                        data:[820, 932, 901, 934, 1290, 1330, 1320,1300,1250,1290]
                                    }
                                ],
                            };
                            option5 = {
                                title: {
                                    text: '最近七天订单数量'
                                },
                                tooltip: {
                                    trigger: 'axis'
                                },
                                legend: {
                                    data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
                                },
                                grid: {
                                    left: '3%',
                                    right: '4%',
                                    bottom: '3%',
                                    containLabel: true
                                },
                                toolbox: {
                                    feature: {
                                        saveAsImage: {}
                                    }
                                },
                                xAxis: {
                                    type: 'category',
                                    boundaryGap: false,
                                    data: ['一天','二天','三天','四天','五天','六天','七天']
                                },
                                yAxis: {
                                    type: 'value'
                                },
                                series: [
                                    {
                                        name:'邮件营销',
                                        type:'line',
                                        stack: '总量',
                                        data:[120, 132, 101, 134, 90, 230, 210]
                                    },
                                    {
                                        name:'联盟广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[220, 182, 191, 234, 290, 330, 310]
                                    },
                                    {
                                        name:'视频广告',
                                        type:'line',
                                        stack: '总量',
                                        data:[150, 232, 201, 154, 190, 330, 410]
                                    },
                                    {
                                        name:'直接访问',
                                        type:'line',
                                        stack: '总量',
                                        data:[320, 332, 301, 334, 390, 330, 320]
                                    },
                                    {
                                        name:'搜索引擎',
                                        type:'line',
                                        stack: '总量',
                                        data:[820, 932, 901, 934, 1290, 1330, 1320]
                                    }
                                ]
                            };

                            myChart2.setOption(option3);
                            function click_line(ss) {
                                s=ss;
                                if(s===3){
                                    myChart2.setOption(option3);
                                }else if(s===2){
                                    myChart2.setOption(option2);
                                }else if(s===4){
                                    myChart2.setOption(option4);
                                }else if(s===5){
                                    myChart2.setOption(option5);
                                }
                            }


                        </script>
                    </div>
            </div>

        </div>
    </div>

    <div class="layui-footer">
        <!-- 底部固定区域 -->
        © 版权所有 2015 天天快递有限公司 浙ICP备13006085号 | 快递业务经营许可证
    </div>
</div>
    <!--这里是弹出层的表单信息-->
    <div class="layui-row" id="popUpdateTest" style="display:none;">

        <div class="layui-col-md10">
            <form class="layui-form layui-from-pane" action="" style="margin-top:20px" >
                <div class="layui-form-item">
                    <label class="layui-form-label">ID</label>
                    <div class="layui-input-block">
                        <input type="text" name="neweqptIdCode" id="ids"  required  lay-verify="required" autocomplete="off" placeholder="" class="layui-input layui-disabled">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">寄件人</label>
                    <div class="layui-input-block">
                        <input type="text" name="neweqptIdCode" id="jjr"  required  lay-verify="required" autocomplete="off" placeholder="" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">收件人</label>
                    <div class="layui-input-block">
                        <input type="text" name="neweqptName" id="sjr"  required  lay-verify="required" autocomplete="off" placeholder="" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item" style="margin-top:40px">
                    <div class="layui-input-block">
                        <button class="layui-btn  layui-btn-submit " lay-submit="" lay-filter="demo11">确认修改</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="layui-row" id="dtUpdateTest" style="display:none;width:390px">
    <div class="layui-col-md10">
        <form class="layui-form layui-from-pane" action=""  style="margin-top:20px" >
            <div class="layui-form-item">
                <label class="layui-form-label" style="width: 200px;"><span  id="dtid"></span></label>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">订单状态</label>
                <div class="layui-input-inline">
                    <select name="interest" id="lsid" lay-filter="Type-filter" lay-verify="required">

                        <option value="1" class="l_statue" selected="">运送中</option>

                    </select>
                </div>
            </div>

            <div class="layui-form-item" style="margin-top:40px">
                <div class="layui-input-block">
                    <button class="layui-btn  layui-btn-submit " lay-submit lay-filter="lo_demo">确认修改</button>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
</html>